<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>

<div id="map" style="width: 100%; height: 400px;"></div>

<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYXptcmRuMSIsImEiOiJjbTQ5cGRwZ3QwY2V1MnNuN2xiNmtreTBmIn0.tEGvXdH-D0GVHg07GTWSPw';
    const map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/azmrdn1/cm49pxayi014t01qrd4iackcl', // style URL
        center: [-95.4036795, 29.7806], // Replace with your coordinates
        zoom: 10 // Initial zoom level
    });

    // Mutation Observer to track changes in the attribution DOM
    const observer = new MutationObserver(() => {
        const attribution = document.querySelector('.mapboxgl-ctrl-attribution');
        if (attribution) {
            // Find and update the "Improve this map" link
            const improveLink = Array.from(attribution.querySelectorAll('a')).find(link => link.textContent === 'Improve this map');
            if (improveLink) {
                improveLink.href = 'https://labs.mapbox.com/contribute/';
                improveLink.target = '_blank'; // Open in a new tab
                observer.disconnect(); // Stop observing once the link is updated
            }
        }
    });

    // Start observing changes in the attribution container
    map.on('load', () => {
        const attributionContainer = document.querySelector('.mapboxgl-ctrl-attribution');
        if (attributionContainer) {
            observer.observe(attributionContainer, { childList: true, subtree: true });
        }
    });
</script>
